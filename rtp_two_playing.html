
<html>
    </head>
    <title>nos-hls</title>
    </head>
    <body id="bod">
        <video id="video" controls height="400" width="400"></video>
        <video id="video2" controls height="360" width="400" src="https://cdn-ondemand.rtp.pt/nas2.share/mcm/mp4/71c/71cb4e99befbccb3b8bfa84b0381e6e3_2mbrtp.mp4"></video>
        <script>
var video = document.getElementById('video');
var source = document.createElement('source');

var index = 3;
var videos = [
    'https://streaming-ondemand.rtp.pt/nas2.share/h264/512x384/p6559/index.m3u8?tlm=hls&streams=p6559_3_202009162109181783.mp4.m3u8:1024',
    'https://streaming-ondemand.rtp.pt/nas2.share/h264/512x384/p6596/p6596_1_202005222153190261/master.m3u8',
    'https://streaming-ondemand.rtp.pt/nas2.share/h264/512x384/p5762/p5762_1_202009300000001038/master.m3u8',
    'https://streaming-ondemand.rtp.pt/nas2.share/h264/512x384/p6379/p6379_1_201911052447/master.m3u8',
    'https://streaming-ondemand.rtp.pt/nas2.share/h264/512x384/p6559/p6559_1_202011032039181368/master.m3u8'
]

//video.setAttribute('width', window.innerWidth);
//video.setAttribute('height', window.innerHeight);
source.setAttribute('type', 'video/mp4');
//source.setAttribute('src', 'https://streaming-ondemand.rtp.pt/nas2.share/h264/512x384/p6559/index.m3u8?tlm=hls&streams=p6559_3_202009162109181783.mp4.m3u8:1024');
//source.setAttribute('src', 'https://streaming-ondemand.rtp.pt/nas2.share/h264/512x384/p6596/p6596_1_202005222153190261/master.m3u8');
function myFunction() {
    console.log("=======================");
    source.setAttribute('src', videos[index]);
    video.appendChild(source);
    video.play();
    index++;
    if (index == videos.length)
        index = 0;
}

    let msg = document.getElementById('bod');
    let vid = document.getElementById('video');
    let vid2 = document.getElementById('video2');
    msg.addEventListener("keypress", myFunction);
    vid.addEventListener("keypress", myFunction);

    //var source2 = document.createElement('source');
    //source2.setAttribute('src', videos[2]);
    //vid2.appendChild(source2);
        </script>
    </body>
</html>

